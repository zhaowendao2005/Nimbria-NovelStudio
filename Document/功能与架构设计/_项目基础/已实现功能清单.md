# Nimbria 已实现功能清单 (快速索引)

**版本**: v1.0  
**创建时间**: 2025年10月11日  
**文档状态**: 反映实际实现  

---

本清单旨在提供 Nimbria 项目当前已实现的主要功能概览，并指向相应的详细设计文档。这有助于快速了解项目范围和各个模块的职责。

## 📋 核心功能模块

### 1. 多窗口系统

- **概述**: 实现基于 Electron 的多进程多窗口架构，支持主窗口和多个项目窗口并行运行，并提供标签页拆分到新窗口功能。
- **关键特性**:
  - 进程级隔离，提高稳定性与性能。
  - 主窗口用于项目选择和全局设置。
  - 项目窗口用于文件编辑和项目管理。
  - 标签页可从项目窗口分离，创建独立的编辑窗口。
  - 统一的 IPC 通信机制。
- **相关文档**:
  - [多窗口系统设计文档](./多窗口系统设计文档.md)
  - [标签页拆分到新窗口实现总结_2025年10月10日10-54.md](../总结/标签页拆分到新窗口实现总结_2025年10月10日10-54.md)
  - [多窗口系统滚动问题修复总结_2025年10月10日.md](../总结/多窗口系统滚动问题修复总结_2025年10月10日.md)

### 2. Markdown 编辑系统

- **概述**: 集成 Vditor 的 Obsidian 风格 Markdown 编辑器，提供强大的编辑和预览功能。
- **关键特性**:
  - 文件树浏览与管理。
  - 多标签页编辑，支持编辑模式与预览模式切换。
  - 编辑器内容自动保存，支持防抖和事务性写入。
  - Markdown 文件备份与恢复。
  - 大纲视图，支持点击跳转。
  - 导航历史（前进/后退）。
- **相关文档**:
  - [Markdown编辑系统设计文档](./Markdown编辑系统设计文档.md)
  - [Obsidian风格Markdown编辑器实现总结_2025年10月05日11时44分.md](../总结/Obsidian风格Markdown编辑器实现总结_2025年10月05日11时44分.md)

### 3. Pane 分屏系统

- **概述**: 提供高度灵活的编辑区域布局管理，支持任意层级的水平和垂直分屏，以及标签页在 Pane 间的管理。
- **关键特性**:
  - 树状布局结构，通过 Quasar Splitter 实现拖拽调整大小。
  - 动态创建、合并、关闭分屏。
  - Pane 焦点管理与视觉指示。
  - 右键上下文菜单提供分屏、关闭等操作。
  - 分屏布局状态持久化。
- **相关文档**:
  - [Pane分屏系统设计文档](./Pane分屏系统设计文档.md)

### 4. 文件系统与项目结构管理

- **概述**: 主进程提供安全、高效的文件系统操作服务，支持项目文件隔离、文件监听和 Markdown 文件特化处理。
- **关键特性**:
  - 通用文件操作 (读写、创建、删除、复制、移动)。
  - 实时文件变更监听 (基于 `chokidar`)。
  - Markdown 文件扫描与文件树构建。
  - Markdown 文件原子性写入与备份。
  - 安全的 IPC 通信协议确保前端操作文件系统。
- **相关文档**:
  - [文件系统与项目结构设计文档](./文件系统与项目结构设计文档.md)

### 5. 命令面板与右侧栏系统

- **概述**: 基于插件化架构，提供类似 VS Code 的命令面板和可扩展的右侧栏面板。
- **关键特性**:
  - 命令面板模糊搜索与执行命令。
  - 可配置的右侧栏面板，如大纲面板。
  - 命令和面板均通过插件机制注册，易于扩展。
  - `StateRegistryService` 实现跨模块状态安全访问。
- **相关文档**:
  - [命令面板与右栏-快速参考](./命令面板与右栏-快速参考.md)
  - [命令面板与右栏系统开发指南.md](../Workflow/命令面板与右栏系统开发指南.md)
  - [命令面板与右栏重构/Design.md](../Design/命令面板与右栏重构/Design.md)

### 6. DocParser 文档解析系统

- **概述**: 强大的文本解析和数据导出工具，支持通过可视化配置 JSON Schema 来定义解析规则，将非结构化文档转换为结构化数据并导出为 Excel 格式。
- **关键特性**:
  - 可视化 Schema 编辑器（树形编辑器 + Monaco 代码编辑器）。
  - 智能正则解析引擎，支持多种解析模式和条件匹配。
  - 支持嵌套结构（数组、对象）解析。
  - 灵活的 Excel/CSV 导出配置。
  - 实时预览（树形 + JSON 双视图）。
  - 完整集成到标签页系统，支持分屏、拖拽等操作。
  - Mock 优先开发策略。
- **相关文档**:
  - [DocParser 文档解析系统设计文档](./DocParser文档解析系统设计文档.md)
  - [DocParser 系统实现总结_2025年10月12日](../总结/Nimbria_DocParser系统实现总结_2025年10月12日_1760270596000.md)
  - [DocParser 系统设计文档 (Design)](../Design/DocPaser系统/Plan1.md)

### 7. LLM 配置系统

- **概述**: 完整的大语言模型提供商管理和活动模型配置方案，支持多提供商管理、模型自动发现、连接测试等功能。
- **关键特性**:
  - 多提供商管理（OpenAI、Anthropic、本地模型等）。
  - 活动模型配置（为不同模型类型设置活动模型），并将“已选中模型/首选模型”持久化。
  - 连接测试与模型自动发现（主进程通过 `LlmApiClient` 实现）。
  - Electron IPC 对接真实后端（`window.nimbria.llm.*`），默认数据源已切换为真实后端。
  - YAML 配置持久化：`providers.yaml`（位于用户数据目录 `.../llm-config/`）。
  - 设置页文案与结构更新：将“LLM 配置”改名为“模型服务”，移除“AI 配置”占位区块。
  - 配置继承体系（Provider 默认 + Model 覆盖）。
  - 按状态分组展示（active / available / inactive）。
  - 分层架构设计（GUI → Store → DataSource → IPC → Main）。
  - 完整的 TypeScript 类型系统。
- **相关文档**:
  - [LLM 配置系统设计文档](./Ai 模型服务专项/LLM配置系统设计文档.md)
  - [LLM 配置系统实现总结_2025年10月11日](../总结/LLM配置系统实现总结_2025年10月11日.md)
  - [JiuZhang-LLM 配置交互设计分析](../总结/JiuZhang-LLM配置交互设计分析.md)
  - [LLM 配置系统设计文档 (Design)](../Design/LLm配置系统/Plan1.md)

---

## 🛠️ 技术支撑与工具

- **Electron**: 桌面应用框架。
- **Vue 3 + Pinia**: 前端框架与状态管理。
- **TypeScript**: 提供强类型支持。
- **Quasar Framework + Element Plus**: UI 组件库，实现美观与响应式界面。
- **Vditor**: Markdown 编辑器核心。
- **Monaco Editor**: 代码编辑器（用于 DocParser 的 Schema 编辑）。
- **xlsx**: Excel 文件生成库（用于 DocParser 导出功能）。
- **fs-extra**: 主进程文件系统操作库。
- **chokidar**: 文件系统监听库。
- **fast-glob**: 文件搜索工具。
- **nanoid**: 用于生成唯一 ID。
- **mermaid**: 文档中的架构图绘制。

---

## ➡️ 下一步计划 (参考)

### 基础功能完善
- [ ] 文件重命名、移动、复制、粘贴的 UI 集成。
- [ ] 优化文件搜索功能（全文搜索、元数据搜索）。
- [ ] 完善标签页拖拽到不同 Pane 的交互。
- [ ] 更多布局预设和布局管理功能。
- [ ] 插件生态系统完善，支持第三方插件加载。

### DocParser 系统扩展
- [ ] 实现 Electron 层文件操作（listSchemaFiles、saveExportedFile 等）。
- [ ] 支持更多导出格式（JSON、XML、SQL）。
- [ ] Schema 模板库扩展。
- [ ] 批量文档处理功能。
- [ ] 解析结果对比功能。
- [ ] 正则表达式调试器。

### LLM 配置系统完善
- [ ] 全局 LLM 服务与调用 API（聊天、流式、嵌入）。
- [ ] 真实 LLM API 调用（对话与嵌入的主进程服务与 IPC）。
- [ ] 聊天历史与上下文管理。
- [ ] 模型使用统计和成本追踪。
- [ ] 自定义提示词模板与调用预设。
- [ ] 配置导入/导出功能。
- [ ] 多模态扩展与模型性能监控。

---

**最后更新**: 2025年10月12日  
**负责人**: Nimbria 开发团队
