

## ğŸ“‹ **Nimbria é¡¹ç›®ç±»å‹ç³»ç»Ÿå®Œæ•´å®¡è®¡æŠ¥å‘Š**

### **å½“å‰é—®é¢˜æ€»ç»“**



1. **ç±»å‹æ–‡ä»¶æ•£è½æ— åº** - 73ä¸ªæ–‡ä»¶å®šä¹‰ç±»å‹ï¼Œæ²¡æœ‰ç»Ÿä¸€è§„èŒƒ
2. **é‡å¤å®šä¹‰ä¸¥é‡** - `ChatMessage` åœ¨å‰ç«¯å’Œåç«¯å„å®šä¹‰ä¸€éï¼ˆtypeå·®å¼‚ï¼‰
3. **å‘½åçº¦å®šæ··ä¹±** - `types.ts`ã€`xxx.types.ts`ã€`types/index.ts` ä¸‰ç§é£æ ¼æ··ç”¨
4. **åˆ†å±‚å…³ç³»ä¸æ¸…** - ä¸çŸ¥é“å“ªäº›æ˜¯å…±äº«çš„ã€å“ªäº›æ˜¯æœ¬åœ°çš„ã€å“ªäº›æ˜¯ç§æœ‰çš„
5. **å‰åç«¯æ··æ‚** - IPC æ¥å£å®šä¹‰å’Œä¸šåŠ¡ç±»å‹æ²¡æœ‰åˆ†ç¦»

---

### **5ç±»åˆ†ç±»æ–¹æ¡ˆçš„å®Œæ•´æ¸…å•**

#### **ç¬¬1ç±»ï¼šæ ¸å¿ƒå…±äº«ç±»å‹** 
ğŸ“ **ç›®æ ‡ä½ç½®ï¼š** `Client/Types/` å’Œ `src-electron/types/`ï¼ˆæ ¹çº§åˆ«ï¼‰

| ç±»å‹ | å½“å‰ä½ç½® | åº”è¯¥ä½ç½® | çŠ¶æ€ |
|------|--------|--------|------|
| `ProjectData` | `Client/Types/project.d.ts` | âœ… æ­£ç¡® | æ­£ç¡® |
| `ProjectResult` | `Client/Types/project.d.ts` | âœ… æ­£ç¡® | æ­£ç¡® |
| `SaveResult` | `Client/Types/project.d.ts` | âœ… æ­£ç¡® | æ­£ç¡® |
| `FileSystemItem` | `src-electron/services/file-service/types` | âŒ åº”ç§»å‡º | **è¿ç§»** |
| `IPCChannelMap` | `src-electron/types/ipc.ts` | âœ… æ­£ç¡® | æ­£ç¡® |
| `DirectMessage` | `src-electron/types/ipc.ts` | âœ… æ­£ç¡® | æ­£ç¡® |
| `WindowControlPayload` | `src-electron/types/ipc.ts` | âœ… æ­£ç¡® | æ­£ç¡® |

**ç»Ÿè®¡ï¼š** 7ä¸ªæ ¸å¿ƒç±»å‹ï¼Œ6ä¸ªä½ç½®æ­£ç¡®ï¼Œ1ä¸ªéœ€è¦è¿ç§»

---

#### **ç¬¬2ç±»ï¼šåŠŸèƒ½æ¨¡å—ä¸šåŠ¡ç±»å‹**
ğŸ“ **ç›®æ ‡ä½ç½®ï¼š** `Client/Types/<ModuleName>/` å’Œ `src-electron/types/<ModuleName>/`

##### **2.1 LLM Chat æ¨¡å—**

| ç±»å‹ | å½“å‰ä½ç½® | åº”è¯¥ä½ç½® | çŠ¶æ€ |
|------|--------|--------|------|
| `ChatMessage` (å‰ç«¯) | `Client/types/llmChat.ts` | `Client/Types/LlmChat/models.ts` | âŒ æ··ä¹± |
| `Conversation` (å‰ç«¯) | `Client/types/llmChat.ts` | `Client/Types/LlmChat/models.ts` | âŒ æ··ä¹± |
| `ConversationSettings` | `Client/types/llmChat.ts` | `Client/Types/LlmChat/models.ts` | âŒ æ··ä¹± |
| `ChatMessage` (åç«¯) | `src-electron/services/llm-chat-service/types.ts` | âŒ ç§æœ‰åŒ– | **é‡å¤å®šä¹‰** |
| `Conversation` (åç«¯) | `src-electron/services/llm-chat-service/types.ts` | âŒ ç§æœ‰åŒ– | **é‡å¤å®šä¹‰** |
| `MessageStartEvent` | `src-electron/services/llm-chat-service/types.ts` | `src-electron/types/LlmChat/backend/events.ts` | âŒ é”™ä½ |
| `StreamChunk` | `Client/types/llmChat.ts` | `Client/Types/LlmChat/operations.ts` | âŒ é”™ä½ |

**ç»Ÿè®¡ï¼š** 7ä¸ªç±»å‹ï¼Œå…¶ä¸­ï¼š
- 2ä¸ªå‰ç«¯ç±»å‹åœ¨é”™è¯¯ç›®å½•
- 2ä¸ªåç«¯é‡å¤å®šä¹‰äº†å‰ç«¯ç±»å‹
- 3ä¸ªç±»å‹åˆ†å±‚ä¸æ¸…

##### **2.2 LLM Translate æ¨¡å—**

| ç±»å‹ | å½“å‰ä½ç½® | åº”è¯¥ä½ç½® | çŠ¶æ€ |
|------|--------|--------|------|
| `TranslateConfig` | `Client/GUI/DemoPage/LlmTranslate/types/config.ts` | âœ… æ­£ç¡® | **âœ¨ æ ‡æ†** |
| `Batch` | `Client/GUI/DemoPage/LlmTranslate/types/batch.ts` | âœ… æ­£ç¡® | **âœ¨ æ ‡æ†** |
| `Task` | `Client/GUI/DemoPage/LlmTranslate/types/task.ts` | âœ… æ­£ç¡® | **âœ¨ æ ‡æ†** |
| `TaskMetadata` | `Client/GUI/DemoPage/LlmTranslate/types/task.ts` | âœ… æ­£ç¡® | **âœ¨ æ ‡æ†** |
| `BatchCreateStartEvent` | `src-electron/types/LlmTranslate/backend/events.ts` | âœ… æ­£ç¡® | **âœ¨ æ ‡æ†** |
| `BatchRow` | `src-electron/types/LlmTranslate/backend/database.ts` | âœ… æ­£ç¡® | **âœ¨ æ ‡æ†** |

**ç»Ÿè®¡ï¼š** 6ä¸ªç±»å‹ï¼Œå…¨éƒ¨æ­£ç¡® âœ…

##### **2.3 Markdown æ¨¡å—**

| ç±»å‹ | å½“å‰ä½ç½® | åº”è¯¥ä½ç½® | çŠ¶æ€ |
|------|--------|--------|------|
| `MarkdownFile` (å‰ç«¯) | `Client/stores/projectPage/Markdown/types.ts` | `Client/Types/Markdown/models.ts` | âŒ é”™ä½ |
| `MarkdownTab` | `Client/stores/projectPage/Markdown/types.ts` | `Client/Types/Markdown/models.ts` | âŒ é”™ä½ |
| `MarkdownFile` (åç«¯) | `src-electron/services/markdown-service/types.ts` | âŒ é‡å¤ | **é‡å¤å®šä¹‰** |
| `SaveTask` | `src-electron/services/markdown-service/types.ts` | `src-electron/types/Markdown/backend/operations.ts` | âŒ é”™ä½ |
| `SaveResult` | `src-electron/services/markdown-service/types.ts` | `src-electron/types/Markdown/backend/operations.ts` | âŒ é”™ä½ |

**ç»Ÿè®¡ï¼š** 5ä¸ªç±»å‹ï¼Œå…¨éƒ¨æœ‰é—®é¢˜ âŒ

##### **2.4 DocParser æ¨¡å—**

| ç±»å‹ | å½“å‰ä½ç½® | åº”è¯¥ä½ç½® | çŠ¶æ€ |
|------|--------|--------|------|
| `RegexMatch` | `Client/Service/docParser/docParser.service.types.ts` | `Client/Types/DocParser/operations.ts` | âŒ é”™ä½ |
| `ParseContext` | `Client/Service/docParser/docParser.service.types.ts` | `Client/Types/DocParser/operations.ts` | âŒ é”™ä½ |
| `ExcelExportOptions` | `Client/Service/docParser/docParser.service.types.ts` | `Client/Types/DocParser/operations.ts` | âŒ é”™ä½ |
| `ParseMetadata` | `Client/stores/projectPage/docParser/docParser.types.ts` | `Client/Types/DocParser/models.ts` | âŒ é”™ä½ |

**ç»Ÿè®¡ï¼š** 4ä¸ªç±»å‹ï¼Œå…¨éƒ¨é”™ä½ âŒ

---

#### **ç¬¬3ç±»ï¼šç»„ä»¶/åŠŸèƒ½æœ¬åœ°ç±»å‹**
ğŸ“ **ç›®æ ‡ä½ç½®ï¼š** `Client/GUI/components/*/types.ts` æˆ– `Client/Service/*/types.ts`

| ç±»å‹ | å½“å‰ä½ç½® | åº”è¯¥ä½ç½® | çŠ¶æ€ |
|------|--------|--------|------|
| `RegexEngineConfig` | `Client/Service/docParser/docParser.service.types.ts` | âœ… æ­£ç¡® | **æœ¬åœ°ç§æœ‰** |
| `CellFormat` | `Client/Service/docParser/docParser.service.types.ts` | âœ… æ­£ç¡® | **æœ¬åœ°ç§æœ‰** |
| `ExcelColumnConfig` | `Client/Service/docParser/docParser.service.types.ts` | âœ… æ­£ç¡® | **æœ¬åœ°ç§æœ‰** |
| `CustomPageConfig` | `Client/Service/CustomPageManager/types.ts` | âœ… æ­£ç¡® | **æœ¬åœ°ç§æœ‰** |
| `PageOpenOptions` | `Client/Service/CustomPageManager/types.ts` | âœ… æ­£ç¡® | **æœ¬åœ°ç§æœ‰** |

**ç»Ÿè®¡ï¼š** 5ä¸ªç±»å‹ï¼Œå…¨éƒ¨æ­£ç¡® âœ…

---

#### **ç¬¬4ç±»ï¼šStore/Composable çŠ¶æ€ç±»å‹**
ğŸ“ **ç›®æ ‡ä½ç½®ï¼š** `Client/stores/<ModuleName>/types/` æˆ– `Client/GUI/DemoPage/<PageName>/composables/types/`

| ç±»å‹ | å½“å‰ä½ç½® | åº”è¯¥ä½ç½® | çŠ¶æ€ |
|------|--------|--------|------|
| `TranslateState` | `Client/GUI/DemoPage/LlmTranslate/stores/translate.types.ts` | `Client/GUI/DemoPage/LlmTranslate/stores/types/state.ts` | âš ï¸ å¯æ¥å— |
| `TranslateDatasource` | `Client/GUI/DemoPage/LlmTranslate/stores/translate.types.ts` | `Client/GUI/DemoPage/LlmTranslate/stores/types/operations.ts` | âš ï¸ å¯æ¥å— |
| `DatasourceContext` | `Client/GUI/DemoPage/LlmTranslate/stores/translate.types.ts` | `Client/GUI/DemoPage/LlmTranslate/stores/types/context.ts` | âš ï¸ å¯æ¥å— |
| `CommandPaletteState` | `Client/stores/projectPage/commandPalette/types.ts` | âœ… æ­£ç¡® | **âœ¨ æ ‡æ†** |
| `Command` | `Client/stores/projectPage/commandPalette/types.ts` | âœ… æ­£ç¡® | **âœ¨ æ ‡æ†** |
| `PaneLayoutState` | `Client/stores/projectPage/paneLayout/types.ts` | âœ… æ­£ç¡® | **âœ¨ æ ‡æ†** |
| `PaneNode` | `Client/stores/projectPage/paneLayout/types.ts` | âœ… æ­£ç¡® | **âœ¨ æ ‡æ†** |
| `HomeDashboardState` | `Client/stores/home/types.ts` | âœ… æ­£ç¡® | **âœ¨ æ ‡æ†** |

**ç»Ÿè®¡ï¼š** 8ä¸ªç±»å‹ï¼Œ7ä¸ªæ­£ç¡®ï¼Œ1ä¸ªå¯æ¥å—

---

#### **ç¬¬5ç±»ï¼šæœåŠ¡å†…éƒ¨ç±»å‹**
ğŸ“ **ç›®æ ‡ä½ç½®ï¼š** `src-electron/services/<ServiceName>/types.ts`ï¼ˆä¸¥ç¦å‰ç«¯å¯¼å…¥ï¼‰

| ç±»å‹ | å½“å‰ä½ç½® | åº”è¯¥ä½ç½® | çŠ¶æ€ | å‰ç«¯æ˜¯å¦å¯¼å…¥ |
|------|--------|--------|------|----------|
| `LangChainClientConfig` | `src-electron/services/llm-chat-service/types.ts` | âœ… æ­£ç¡® | âœ… ç§æœ‰ | âŒ æ— äººå¯¼ |
| `StreamCallbacks` | `src-electron/services/llm-chat-service/types.ts` | âœ… æ­£ç¡® | âœ… ç§æœ‰ | âŒ æ— äººå¯¼ |
| `MarkdownTreeOptions` | `src-electron/services/markdown-service/types.ts` | âœ… æ­£ç¡® | âœ… ç§æœ‰ | âŒ æ— äººå¯¼ |
| `FileOperationResult` | `src-electron/services/markdown-service/types.ts` | âœ… æ­£ç¡® | âœ… ç§æœ‰ | âŒ æ— äººå¯¼ |
| `WriteOptions` | `src-electron/services/markdown-service/types.ts` | âœ… æ­£ç¡® | âœ… ç§æœ‰ | âŒ æ— äººå¯¼ |
| `ReadOptions` | `src-electron/services/markdown-service/types.ts` | âœ… æ­£ç¡® | âœ… ç§æœ‰ | âŒ æ— äººå¯¼ |
| `StarChartInitEvent` | `src-electron/services/star-chart-service/types/index.ts` | âœ… æ­£ç¡® | âœ… ç§æœ‰ | âŒ æ— äººå¯¼ |

**ç»Ÿè®¡ï¼š** 7ä¸ªç±»å‹ï¼Œå…¨éƒ¨æ­£ç¡® âœ…

---

### **æ€»ä½“ç»Ÿè®¡**

```
ç¬¬1ç±»ï¼ˆæ ¸å¿ƒå…±äº«ï¼‰ï¼š    7ä¸ª | âœ… 86% | âš ï¸ 14% éœ€è¿ç§»
ç¬¬2ç±»ï¼ˆåŠŸèƒ½ä¸šåŠ¡ï¼‰ï¼š   21ä¸ª | âŒ 29% | âš ï¸ 71% æœ‰é—®é¢˜
ç¬¬3ç±»ï¼ˆæœ¬åœ°ç»„ä»¶ï¼‰ï¼š    5ä¸ª | âœ… 100% | âœ… å®Œç¾
ç¬¬4ç±»ï¼ˆStoreçŠ¶æ€ï¼‰ï¼š   8ä¸ª | âœ… 88% | âš ï¸ 12% å¯ä¼˜åŒ–
ç¬¬5ç±»ï¼ˆæœåŠ¡ç§æœ‰ï¼‰ï¼š    7ä¸ª | âœ… 100% | âœ… å®Œç¾
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æ€»è®¡ï¼š               48ä¸ª | âŒ 54% | âš ï¸ 46% éœ€æ•´æ”¹
```

