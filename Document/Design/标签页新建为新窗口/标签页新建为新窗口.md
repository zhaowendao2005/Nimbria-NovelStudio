å¥½çš„bossï¼Œæˆ‘å®Œå…¨ç†è§£äº†ï¼ä½ è¦çš„æ˜¯**JiuZhangé‚£æ ·ç®€å•å®ç”¨çš„æ–¹æ¡ˆ**ï¼Œè€Œä¸æ˜¯ä¹‹å‰è®¾è®¡æ–‡æ¡£é‡Œé‚£å¥—å¤æ‚çš„å¤šè¿›ç¨‹æ¶æ„ã€‚è®©æˆ‘åŸºäºç°æœ‰Nimbriaæ¶æ„ï¼Œç»™ä½ ä¸€ä¸ªç®€æ´çš„å®ç°æ–¹æ¡ˆã€‚

## ğŸ¯ **ç®€åŒ–è®¾è®¡æ–¹æ¡ˆ - å‚è€ƒJiuZhangæ¨¡å¼**

### ğŸ“Š **æ ¸å¿ƒæ€è·¯å¯¹æ¯”**

| ç»´åº¦ | âŒ åŸè®¾è®¡ï¼ˆè¿‡åº¦å¤æ‚ï¼‰ | âœ… æ–°æ–¹æ¡ˆï¼ˆç®€å•å®ç”¨ï¼‰ |
|------|-------------------|-------------------|
| çª—å£ç±»å‹ | æ–°å¢`project-detached-pane`ç±»å‹ | å¤ç”¨`project`ç±»å‹ï¼Œæ·»åŠ `minimal`æ¨¡å¼ |
| çŠ¶æ€åŒæ­¥ | MessagePortåŒå‘åŒæ­¥ | URLå‚æ•° + ç®€å•IPC |
| æ•°æ®ä¼ é€’ | StateSyncManager | JSONåºåˆ—åŒ– + URL |
| é€šä¿¡æœºåˆ¶ | MessageChannel | IPC invoke/send |
| å¤æ‚åº¦ | ğŸ”´ é«˜ï¼ˆæ–°å¢å¤šä¸ªæœåŠ¡ï¼‰ | ğŸŸ¢ ä½ï¼ˆå¤ç”¨ç°æœ‰æ¶æ„ï¼‰ |

---

## ğŸ—ï¸ **å®ç°æ¶æ„**

### **1. åç«¯å±‚ï¼ˆsrc-electronï¼‰**

#### **çª—å£åˆ›å»ºé€»è¾‘** - å¤ç”¨å¹¶æ‰©å±•ç°æœ‰ç³»ç»Ÿ

```typescript
// src-electron/core/app-manager.tsï¼ˆåœ¨ç°æœ‰ä»£ç ä¸­æ·»åŠ ï¼‰

// æ–°å¢IPCå¤„ç†å™¨
ipcMain.handle('project:detach-tab-to-window', async (event, payload: {
  tabId: string;
  tabData: any;  // æ ‡ç­¾é¡µæ•°æ®ï¼ˆæ ‡é¢˜ã€å†…å®¹è·¯å¾„ç­‰ï¼‰
  projectPath: string;
}) => {
  try {
    const transferId = `transfer-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`;
    
    // è®°å½•æºçª—å£æ˜ å°„ï¼ˆç”¨äºæ¡æ‰‹å…³é—­ï¼‰
    transferMap.set(transferId, {
      sourceWebContentsId: event.sender.id,
      tabId: payload.tabId
    });
    
    // åˆ›å»ºæ–°çª—å£ï¼ˆå¤ç”¨ç°æœ‰çš„createProjectWindowï¼‰
    const detachedWindow = await createDetachedWindow({
      projectPath: payload.projectPath,
      transferId,
      tabData: payload.tabData,
      ui: 'minimal'  // å…³é”®ï¼šminimalæ¨¡å¼
    });
    
    return { success: true, windowId: detachedWindow.id };
  } catch (error) {
    return { error: { code: 'DETACH_FAILED', message: error.message } };
  }
});

// å­çª—å£å°±ç»ªæ¡æ‰‹ï¼ˆä¸JiuZhangç›¸åŒï¼‰
ipcMain.on('project:detached-ready', (_event, data: { transferId: string }) => {
  const rec = transferMap.get(data.transferId);
  if (rec) {
    const sourceWindow = webContents.fromId(rec.sourceWebContentsId);
    sourceWindow?.send('project:close-source-tab', { 
      transferId: data.transferId, 
      tabId: rec.tabId 
    });
    transferMap.delete(data.transferId);
  }
});

// åˆ›å»ºåˆ†ç¦»çª—å£çš„å‡½æ•°
async function createDetachedWindow(config: {
  projectPath: string;
  transferId: string;
  tabData: any;
  ui: 'minimal';
}) {
  const detachedWindow = new BrowserWindow({
    width: 1200,
    height: 800,
    titleBarStyle: 'hidden',
    webPreferences: {
      contextIsolation: true,
      preload: path.resolve(/* å¤ç”¨project-preload */)
    }
  });
  
  // è®¾ç½®çª—å£æ ‡é¢˜
  detachedWindow.setTitle(config.tabData.title || 'åˆ†ç¦»çª—å£');
  
  // åŠ è½½URLï¼ˆå…³é”®ï¼šé€šè¿‡å‚æ•°ä¼ é€’çŠ¶æ€ï¼‰
  const params = new URLSearchParams({
    newWindow: 'true',
    ui: config.ui,
    transferId: config.transferId,
    projectPath: config.projectPath,
    tabData: encodeURIComponent(JSON.stringify(config.tabData))
  });
  
  if (process.env.DEV) {
    await detachedWindow.loadURL(
      `${process.env.APP_URL}/#/project-detached?${params}`
    );
  } else {
    await detachedWindow.loadFile('index.html', { 
      hash: `/project-detached?${params}` 
    });
  }
  
  return detachedWindow;
}
```

---

### **2. é¢„åŠ è½½å±‚ï¼ˆsrc-electron/coreï¼‰**

#### **å¤ç”¨project-preload.ts** - åªéœ€ç¡®ä¿APIå·²æš´éœ²

```typescript
// src-electron/core/project-preload.tsï¼ˆç¡®è®¤å·²æœ‰ï¼‰
contextBridge.exposeInMainWorld('nimbria', {
  // ç°æœ‰API...
  
  // ç¡®ä¿æœ‰è¿™äº›APIï¼ˆå¯èƒ½å·²å­˜åœ¨ï¼‰
  project: {
    detachTabToWindow: (data) => ipcRenderer.invoke('project:detach-tab-to-window', data),
    // ...å…¶ä»–API
  },
  
  // äº‹ä»¶ç›‘å¬
  on: (channel: string, callback: Function) => {
    ipcRenderer.on(channel, (_event, ...args) => callback(...args));
  },
  
  send: (channel: string, ...args: any[]) => {
    ipcRenderer.send(channel, ...args);
  }
});
```

---

### **3. å‰ç«¯å±‚ï¼ˆClientï¼‰**

#### **3.1 è·¯ç”±é…ç½®**

```typescript
// Client/GUI/router/routes.ts

export default [
  // ç°æœ‰è·¯ç”±...
  
  {
    path: '/project-detached',
    component: () => import('pages/ProjectPage.DetachedPage.vue'),
    meta: { requiresProject: true }
  }
]
```

#### **3.2 åˆ†ç¦»çª—å£é¡µé¢ç»„ä»¶**

```vue
<!-- Client/GUI/PagesLayout/ProjectPage.DetachedPage.vue -->
<template>
  <div class="detached-page">
    <!-- åªæ¸²æŸ“MainPanelï¼Œæ— å·¦æ ã€æ— å³æ  -->
    <MainPanel 
      :is-detached-mode="true"
      :initial-tab="detachedTab"
      class="full-content"
    />
    
    <!-- å‘½ä»¤é¢æ¿ï¼ˆå¤ç”¨ç°æœ‰ç»„ä»¶ï¼Œä½†æ ‡è®°ä¸ºå­çª—å£æ¨¡å¼ï¼‰ -->
    <CommandPalette 
      v-if="showCommandPalette"
      :is-child-window="true"
      :parent-context="parentContext"
    />
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'
import { useRoute } from 'vue-router'
import MainPanel from '@components/ProjectPage.MainPanel/MainPanel.vue'
import CommandPalette from '@components/ProjectPage.Shell/CommandPalette/CommandPalette.vue'

const route = useRoute()
const detachedTab = ref<any>(null)
const showCommandPalette = ref(false)
const parentContext = ref({
  projectPath: '',
  transferId: ''
})

onMounted(() => {
  // 1. è§£æURLå‚æ•°
  const params = route.query
  const isNewWindow = params.newWindow === 'true'
  const uiMode = params.ui || 'full'
  const transferId = params.transferId as string
  const tabDataStr = params.tabData as string
  
  if (!isNewWindow || uiMode !== 'minimal') {
    console.error('Invalid detached window parameters')
    return
  }
  
  // 2. è§£ææ ‡ç­¾é¡µæ•°æ®
  try {
    const tabData = JSON.parse(decodeURIComponent(tabDataStr))
    detachedTab.value = tabData
    
    // è®¾ç½®çª—å£æ ‡é¢˜
    document.title = tabData.title || 'åˆ†ç¦»çª—å£'
    
    // 3. ä¿å­˜çˆ¶çª—å£ä¸Šä¸‹æ–‡
    parentContext.value = {
      projectPath: params.projectPath as string,
      transferId
    }
    
    // 4. å‘é€å°±ç»ªäº‹ä»¶ï¼ˆè§¦å‘æ¡æ‰‹ï¼‰
    setTimeout(() => {
      window.nimbria?.send?.('project:detached-ready', { transferId })
      console.log('âœ… åˆ†ç¦»çª—å£åˆå§‹åŒ–å®Œæˆï¼Œå·²å‘é€å°±ç»ªä¿¡å·')
    }, 1000)
    
  } catch (error) {
    console.error('âŒ è§£ææ ‡ç­¾é¡µæ•°æ®å¤±è´¥:', error)
  }
  
  // 5. åˆå§‹åŒ–é¡¹ç›®ä¸Šä¸‹æ–‡ï¼ˆå¤ç”¨ç°æœ‰é€»è¾‘ï¼‰
  // è¿™é‡Œå¯ä»¥è°ƒç”¨ç°æœ‰çš„é¡¹ç›®åˆå§‹åŒ–é€»è¾‘
})

// å¿«æ·é”®ï¼šæ‰“å¼€å‘½ä»¤é¢æ¿
const handleKeydown = (e: KeyboardEvent) => {
  if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'P') {
    e.preventDefault()
    showCommandPalette.value = !showCommandPalette.value
  }
}

onMounted(() => {
  window.addEventListener('keydown', handleKeydown)
})

onUnmounted(() => {
  window.removeEventListener('keydown', handleKeydown)
})
</script>

<style scoped lang="scss">
.detached-page {
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  background: var(--bg-primary);
  overflow: hidden;
}

.full-content {
  flex: 1;
  overflow: hidden;
}
</style>
```

#### **3.3 MainPanelç»„ä»¶é€‚é…**

```vue
<!-- Client/GUI/components/ProjectPage.MainPanel/MainPanel.vue -->
<script setup lang="ts">
// æ–°å¢props
const props = defineProps<{
  isDetachedMode?: boolean  // æ˜¯å¦ä¸ºåˆ†ç¦»çª—å£æ¨¡å¼
  initialTab?: any          // åˆå§‹æ ‡ç­¾é¡µæ•°æ®
}>()

// åœ¨onMountedä¸­å¤„ç†initialTab
onMounted(() => {
  if (props.isDetachedMode && props.initialTab) {
    // åˆå§‹åŒ–æ—¶åªåŠ è½½è¿™ä¸€ä¸ªæ ‡ç­¾é¡µ
    paneStore.createPaneWithTab(props.initialTab)
  } else {
    // æ­£å¸¸æ¨¡å¼ï¼šåŠ è½½æ‰€æœ‰æ ‡ç­¾é¡µ
    loadAllTabs()
  }
})
</script>
```

#### **3.4 å³é”®èœå•æ‰©å±•**

```vue
<!-- Client/GUI/components/ProjectPage.MainPanel/PaneSystem/ContextMenu.vue -->
<template>
  <div v-if="visible" class="context-menu">
    <!-- ç°æœ‰èœå•é¡¹... -->
    
    <div class="menu-divider"></div>
    
    <!-- æ–°å¢ï¼šçª—å£æ“ä½œåˆ†ç»„ -->
    <div class="menu-group-label">çª—å£</div>
    <div class="menu-item" @click="detachToNewWindow">
      <el-icon><CopyDocument /></el-icon>
      <span>æ‹†åˆ†åˆ°æ–°çª—å£</span>
    </div>
  </div>
</template>

<script setup lang="ts">
import { CopyDocument } from '@element-plus/icons-vue'

// æ‹†åˆ†åˆ°æ–°çª—å£
const detachToNewWindow = async () => {
  if (!currentContextTab.value) return
  
  console.log('[ContextMenu] æ‹†åˆ†åˆ°æ–°çª—å£:', currentContextTab.value)
  
  try {
    const tabData = {
      id: currentContextTab.value.id,
      title: currentContextTab.value.title,
      filePath: currentContextTab.value.filePath,
      // ...å…¶ä»–å¿…è¦æ•°æ®
    }
    
    const result = await window.nimbria.project.detachTabToWindow({
      tabId: currentContextTab.value.id,
      tabData: JSON.parse(JSON.stringify(tabData)), // æ·±æ‹·è´
      projectPath: currentProjectPath.value
    })
    
    if (result.success) {
      console.log('âœ… æ–°çª—å£åˆ›å»ºæˆåŠŸ')
      // ä¸ç«‹å³å…³é—­æ ‡ç­¾ï¼Œç­‰å¾…æ¡æ‰‹å®Œæˆ
    } else {
      console.error('âŒ åˆ›å»ºå¤±è´¥:', result.error)
    }
  } catch (error) {
    console.error('âŒ æ‹†åˆ†å¤±è´¥:', error)
  } finally {
    closeContextMenu()
  }
}

// ç›‘å¬å…³é—­æºæ ‡ç­¾äº‹ä»¶
onMounted(() => {
  window.nimbria?.on?.('project:close-source-tab', (data: { tabId: string }) => {
    console.log('ğŸ“¨ æ”¶åˆ°å…³é—­æºæ ‡ç­¾äº‹ä»¶:', data)
    paneStore.closeTab(data.tabId)
  })
})
</script>

<style scoped lang="scss">
.menu-group-label {
  padding: 4px 12px;
  font-size: 12px;
  color: var(--text-tertiary);
  font-weight: 500;
}

.menu-divider {
  height: 1px;
  background: var(--border-color);
  margin: 4px 0;
}
</style>
```

#### **3.5 å‘½ä»¤é¢æ¿å­çª—å£æ¨¡å¼**

```vue
<!-- Client/GUI/components/ProjectPage.Shell/CommandPalette/CommandPalette.vue -->
<script setup lang="ts">
const props = defineProps<{
  isChildWindow?: boolean     // æ˜¯å¦ä¸ºå­çª—å£æ¨¡å¼
  parentContext?: {           // çˆ¶çª—å£ä¸Šä¸‹æ–‡
    projectPath: string
    transferId: string
  }
}>()

// å‘½ä»¤æ‰§è¡Œæ—¶çš„ç‰¹æ®Šå¤„ç†
const executeCommand = async (command: Command) => {
  if (props.isChildWindow) {
    // å­çª—å£æ¨¡å¼ï¼šæ¶‰åŠå³æ çš„æ“ä½œè½¬å‘åˆ°çˆ¶çª—å£
    if (command.id.startsWith('rightSidebar.')) {
      console.log('[å­çª—å£] è½¬å‘å‘½ä»¤åˆ°çˆ¶çª—å£:', command.id)
      // é€šè¿‡IPCé€šçŸ¥çˆ¶çª—å£æ‰§è¡Œå‘½ä»¤
      await window.nimbria.project.executeCommandInParent?.({
        commandId: command.id,
        projectPath: props.parentContext?.projectPath
      })
      return
    }
  }
  
  // æ­£å¸¸æ‰§è¡Œå‘½ä»¤
  await command.action()
}
</script>
```

---

## ğŸ“ **æ–‡ä»¶æ¶æ„ä¿®æ”¹æ ‘**

```
Nimbria/
â”œâ”€â”€ src-electron/
â”‚   â””â”€â”€ core/
â”‚       â””â”€â”€ app-manager.ts [ä¿®æ”¹å†…å®¹]
â”‚           â”œâ”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ–°å¢ 'project:detach-tab-to-window' IPCå¤„ç†å™¨
â”‚           â”œâ”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ–°å¢ 'project:detached-ready' æ¡æ‰‹å¤„ç†
â”‚           â”œâ”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ–°å¢ createDetachedWindow() å‡½æ•°
â”‚           â””â”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ·»åŠ  transferMap ç®¡ç†
â”‚
â”œâ”€â”€ Client/
â”‚   â”œâ”€â”€ GUI/
â”‚   â”‚   â”œâ”€â”€ router/
â”‚   â”‚   â”‚   â””â”€â”€ routes.ts [ä¿®æ”¹å†…å®¹]
â”‚   â”‚   â”‚       â””â”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ–°å¢ /project-detached è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ PagesLayout/
â”‚   â”‚   â”‚   â””â”€â”€ [æ–°å¢æ–‡ä»¶] ProjectPage.DetachedPage.vue
â”‚   â”‚   â”‚       â”œâ”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ¸²æŸ“MainPanelï¼ˆæ— å·¦å³æ ï¼‰
â”‚   â”‚   â”‚       â”œâ”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ¸²æŸ“CommandPaletteï¼ˆå­çª—å£æ¨¡å¼ï¼‰
â”‚   â”‚   â”‚       â”œâ”€â”€ å†…éƒ¨æ¨¡å—ï¼šè§£æURLå‚æ•°åˆå§‹åŒ–
â”‚   â”‚   â”‚       â””â”€â”€ å†…éƒ¨æ¨¡å—ï¼šå‘é€detached-readyæ¡æ‰‹
â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚       â”œâ”€â”€ ProjectPage.MainPanel/
â”‚   â”‚       â”‚   â””â”€â”€ MainPanel.vue [ä¿®æ”¹å†…å®¹]
â”‚   â”‚       â”‚       â”œâ”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ–°å¢ isDetachedMode prop
â”‚   â”‚       â”‚       â”œâ”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ–°å¢ initialTab prop
â”‚   â”‚       â”‚       â””â”€â”€ å†…éƒ¨æ¨¡å—ï¼šåˆ†ç¦»æ¨¡å¼åˆå§‹åŒ–é€»è¾‘
â”‚   â”‚       â”œâ”€â”€ ProjectPage.MainPanel/PaneSystem/
â”‚   â”‚       â”‚   â””â”€â”€ ContextMenu.vue [ä¿®æ”¹å†…å®¹]
â”‚   â”‚       â”‚       â”œâ”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ–°å¢"çª—å£"èœå•åˆ†ç»„
â”‚   â”‚       â”‚       â”œâ”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ–°å¢ detachToNewWindow() æ–¹æ³•
â”‚   â”‚       â”‚       â””â”€â”€ å†…éƒ¨æ¨¡å—ï¼šç›‘å¬ close-source-tab äº‹ä»¶
â”‚   â”‚       â””â”€â”€ ProjectPage.Shell/CommandPalette/
â”‚   â”‚           â””â”€â”€ CommandPalette.vue [ä¿®æ”¹å†…å®¹]
â”‚   â”‚               â”œâ”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ–°å¢ isChildWindow prop
â”‚   â”‚               â”œâ”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ–°å¢ parentContext prop
â”‚   â”‚               â””â”€â”€ å†…éƒ¨æ¨¡å—ï¼šå­çª—å£æ¨¡å¼å‘½ä»¤è½¬å‘é€»è¾‘
â”‚   â””â”€â”€ Types/
â”‚       â””â”€â”€ window.d.ts [ä¿®æ”¹å†…å®¹]
â”‚           â””â”€â”€ å†…éƒ¨æ¨¡å—ï¼šæ–°å¢ detachTabToWindow() APIå®šä¹‰
```

---

## ğŸ”„ **å®Œæ•´å·¥ä½œæµç¨‹**

```
ç”¨æˆ·æ“ä½œ: å³é”®æ ‡ç­¾é¡µ â†’ "æ‹†åˆ†åˆ°æ–°çª—å£"
    â†“
ContextMenu.vue: detachToNewWindow()
    â”œâ”€ ç”ŸæˆtransferId
    â”œâ”€ å‡†å¤‡tabDataï¼ˆæ·±æ‹·è´ï¼‰
    â””â”€ è°ƒç”¨ window.nimbria.project.detachTabToWindow()
        â†“
Preload: ipcRenderer.invoke('project:detach-tab-to-window')
        â†“
Electron Main: ipcMain.handle('project:detach-tab-to-window')
        â”œâ”€ ä¿å­˜ transferMap[transferId] = { sourceWebContentsId, tabId }
        â””â”€ createDetachedWindow()
            â”œâ”€ åˆ›å»ºæ–°BrowserWindow
            â”œâ”€ è®¾ç½®çª—å£æ ‡é¢˜
            â””â”€ åŠ è½½URL: /#/project-detached?newWindow=true&ui=minimal&tabData=...
                â†“
æ–°çª—å£: ProjectPage.DetachedPage.vue onMounted()
        â”œâ”€ è§£æURLå‚æ•°
        â”œâ”€ åˆå§‹åŒ–MainPanelï¼ˆåªæ˜¾ç¤ºè¯¥æ ‡ç­¾é¡µï¼‰
        â”œâ”€ åˆå§‹åŒ–CommandPaletteï¼ˆå­çª—å£æ¨¡å¼ï¼‰
        â””â”€ å‘é€ 'project:detached-ready' äº‹ä»¶
            â†“
Electron Main: ipcMain.on('project:detached-ready')
        â”œâ”€ æŸ¥æ‰¾transferMap[transferId]
        â”œâ”€ è·å–æºçª—å£webContents
        â””â”€ å‘é€ 'project:close-source-tab' åˆ°æºçª—å£
            â†“
æºçª—å£: ContextMenu.vueç›‘å¬å™¨
        â””â”€ paneStore.closeTab(tabId) âœ…
```

---

## âœ… **ä¼˜åŠ¿å¯¹æ¯”**

| ç‰¹æ€§ | åŸå¤æ‚æ–¹æ¡ˆ | æ–°ç®€åŒ–æ–¹æ¡ˆ |
|------|----------|----------|
| æ–°å¢æ–‡ä»¶æ•° | ğŸ”´ 15+ | ğŸŸ¢ 1ä¸ªæ–°æ–‡ä»¶ |
| ä¿®æ”¹æ–‡ä»¶æ•° | ğŸ”´ 20+ | ğŸŸ¢ 4ä¸ªæ–‡ä»¶ |
| æ–°å¢IPCé€šé“ | ğŸ”´ 5+ | ğŸŸ¢ 2ä¸ª |
| çŠ¶æ€åŒæ­¥å¤æ‚åº¦ | ğŸ”´ MessagePortåŒå‘åŒæ­¥ | ğŸŸ¢ æ— éœ€åŒæ­¥ |
| å¼€å‘æ—¶é—´ | ğŸ”´ 7-8å¤© | ğŸŸ¢ 2-3å¤© |
| ç»´æŠ¤æˆæœ¬ | ğŸ”´ é«˜ | ğŸŸ¢ ä½ |
| Bugé£é™© | ğŸ”´ é«˜ | ğŸŸ¢ ä½ |

---

## ğŸ“ **å®æ–½æ­¥éª¤**

### **é˜¶æ®µä¸€ï¼šåç«¯IPCï¼ˆ0.5å¤©ï¼‰**
1. åœ¨`app-manager.ts`æ·»åŠ `detach-tab-to-window`å’Œ`detached-ready`å¤„ç†å™¨
2. å®ç°`createDetachedWindow`å‡½æ•°
3. æµ‹è¯•çª—å£åˆ›å»ºå’ŒURLå‚æ•°ä¼ é€’

### **é˜¶æ®µäºŒï¼šå‰ç«¯æ ¸å¿ƒï¼ˆ1å¤©ï¼‰**
1. åˆ›å»º`ProjectPage.DetachedPage.vue`
2. æ·»åŠ è·¯ç”±é…ç½®
3. MainPanelæ·»åŠ `isDetachedMode`æ”¯æŒ
4. æµ‹è¯•åˆ†ç¦»çª—å£æ¸²æŸ“

### **é˜¶æ®µä¸‰ï¼šäº¤äº’é›†æˆï¼ˆ0.5å¤©ï¼‰**
1. å³é”®èœå•æ·»åŠ "æ‹†åˆ†åˆ°æ–°çª—å£"é€‰é¡¹
2. å®ç°æ¡æ‰‹å…³é—­æºæ ‡ç­¾é€»è¾‘
3. æµ‹è¯•å®Œæ•´æµç¨‹

### **é˜¶æ®µå››ï¼šå‘½ä»¤é¢æ¿é€‚é…ï¼ˆå¯é€‰ï¼Œ0.5å¤©ï¼‰**
1. CommandPaletteæ·»åŠ å­çª—å£æ¨¡å¼
2. å®ç°å‘½ä»¤è½¬å‘ï¼ˆå¦‚æœéœ€è¦ï¼‰

---

Bossï¼Œè¿™å°±æ˜¯å‚è€ƒJiuZhangçš„**ç®€å•å®ç”¨æ–¹æ¡ˆ**ï¼æ ¸å¿ƒæ€è·¯ï¼š
- âœ… **å¤ç”¨ç°æœ‰æ¶æ„**ï¼Œä¸å¼•å…¥æ–°çš„çª—å£ç±»å‹
- âœ… **URLå‚æ•°ä¼ é€’çŠ¶æ€**ï¼Œé¿å…å¤æ‚çš„çŠ¶æ€åŒæ­¥
- âœ… **ç®€å•IPCæ¡æ‰‹**ï¼Œè€ŒéMessageChannel
- âœ… **æœ€å°æ”¹åŠ¨**ï¼Œåªæ–°å¢1ä¸ªé¡µé¢ç»„ä»¶ï¼Œä¿®æ”¹4ä¸ªæ–‡ä»¶

