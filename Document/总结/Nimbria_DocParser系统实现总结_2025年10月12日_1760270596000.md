# Nimbria DocParserç³»ç»Ÿå®ç°æ€»ç»“

**æ—¶é—´**: 2025å¹´10æœˆ12æ—¥ 21:23  
**ä»»åŠ¡**: å®ç°DocParseræ–‡æ¡£è§£æç³»ç»Ÿå¹¶é›†æˆåˆ°Nimbriaé¡¹ç›®ä¸­  
**å®Œæˆåº¦**: âœ… æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼Œå¾…ä¼˜åŒ–è°ƒè¯•

---

## ğŸ“‹ ä¸€ã€å·²å®ç°åŠŸèƒ½

### 1.1 æ ¸å¿ƒç³»ç»Ÿæ¶æ„

#### **ä¸‰å±‚æ¶æ„è®¾è®¡**
```
Client/
â”œâ”€â”€ GUI/components/ProjectPage.MainPanel/DocParser/     # è§†å›¾å±‚
â”‚   â”œâ”€â”€ DocParserPanel.vue          # ä¸»å®¹å™¨ç»„ä»¶
â”‚   â”œâ”€â”€ TopBar.vue                  # å·¥å…·æ 
â”‚   â”œâ”€â”€ FileSelector.vue            # æ–‡ä»¶é€‰æ‹©å™¨
â”‚   â”œâ”€â”€ ResultPreview.vue           # ç»“æœé¢„è§ˆï¼ˆTree+JSONåŒè§†å›¾ï¼‰
â”‚   â”œâ”€â”€ ExportConfig.vue            # å¯¼å‡ºé…ç½®
â”‚   â””â”€â”€ SchemaEditor/               # JSON Schemaç¼–è¾‘å™¨ï¼ˆ9ä¸ªç»„ä»¶ï¼‰
â”‚       â”œâ”€â”€ JsonSchemaSection.vue
â”‚       â”œâ”€â”€ SchemaEditorDialog.vue
â”‚       â”œâ”€â”€ JsonSchemaPreviewPane.vue
â”‚       â”œâ”€â”€ TreeSchemaNode.vue
â”‚       â”œâ”€â”€ FieldConfigDialog.vue
â”‚       â””â”€â”€ ...
â”œâ”€â”€ stores/projectPage/docParser/                       # çŠ¶æ€å±‚
â”‚   â”œâ”€â”€ docParser.store.ts          # ä¸»Store
â”‚   â”œâ”€â”€ docParser.types.ts          # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ docParser.schemaUtils.ts    # Schemaå·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ docParser.mock.ts           # Mockæ•°æ®
â”‚   â”œâ”€â”€ parser.ts                   # è§£æé€»è¾‘å°è£…
â”‚   â”œâ”€â”€ exporter.ts                 # å¯¼å‡ºé€»è¾‘å°è£…
â”‚   â””â”€â”€ index.ts
â””â”€â”€ Service/docParser/                                  # ä¸šåŠ¡é€»è¾‘å±‚
    â”œâ”€â”€ regexEngine.ts              # æ­£åˆ™è¡¨è¾¾å¼å¼•æ“
    â”œâ”€â”€ schemaValidator.ts          # SchemaéªŒè¯å™¨
    â”œâ”€â”€ documentParser.ts           # æ–‡æ¡£è§£æå™¨
    â”œâ”€â”€ excelExporter.ts            # Excelå¯¼å‡ºå™¨
    â”œâ”€â”€ docParser.service.types.ts  # Serviceå±‚ç±»å‹
    â””â”€â”€ index.ts
```

### 1.2 åŠŸèƒ½ç‰¹æ€§

#### **JSON Schemaç¼–è¾‘ç³»ç»Ÿ**ï¼ˆä»JiuZhangé¡¹ç›®è¿ç§»ï¼‰
- âœ… å¯è§†åŒ–æ ‘å½¢ç¼–è¾‘å™¨
- âœ… Monacoä»£ç ç¼–è¾‘å™¨ï¼ˆJSONé«˜äº®ã€æ ¼å¼åŒ–ï¼‰
- âœ… å­—æ®µé…ç½®å¯¹è¯æ¡†
- âœ… å®æ—¶é¢„è§ˆï¼ˆæ ‘å½¢+ä»£ç ï¼‰
- âœ… æ”¯æŒ`x-parse`å’Œ`x-export`è‡ªå®šä¹‰æ‰©å±•
- âœ… æ¨¡æ¿å·¥å‚ï¼ˆå¿«é€Ÿåˆ›å»ºå¸¸ç”¨ç»“æ„ï¼‰

#### **æ–‡æ¡£è§£æå¼•æ“**
- âœ… åŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„æ™ºèƒ½è§£æ
- âœ… æ”¯æŒåµŒå¥—ç»“æ„ï¼ˆæ•°ç»„ã€å¯¹è±¡ï¼‰
- âœ… å¤šç§è§£ææ¨¡å¼ï¼ˆextract/split/validateï¼‰
- âœ… æ¡ä»¶åŒ¹é…ï¼ˆè¡Œé¦–/è¡Œå°¾/æ•´è¯åŒ¹é…ï¼‰
- âœ… æ•è·ç»„æå–

#### **Excelå¯¼å‡ºç³»ç»Ÿ**
- âœ… ä½¿ç”¨xlsxåº“å¯¼å‡º.xlsxæ ¼å¼
- âœ… æ”¯æŒCSVå¤‡é€‰å¯¼å‡º
- âœ… åˆ—é…ç½®ï¼ˆåˆ—åã€å®½åº¦ã€é¡ºåºï¼‰
- âœ… è‡ªåŠ¨å†»ç»“é¦–è¡Œ
- âœ… ä»Schemaæå–å¯¼å‡ºé…ç½®

#### **æ•°æ®é¢„è§ˆ**
- âœ… æ ‘å½¢ç»“æ„è§†å›¾
- âœ… JSONä»£ç è§†å›¾
- âœ… åˆ†æ æ˜¾ç¤ºæ¨¡å¼
- âœ… ç»Ÿè®¡ä¿¡æ¯ï¼ˆé¡¹æ•°ã€å­—æ®µæ•°ã€å¤§å°ï¼‰
- âœ… å¤åˆ¶/ä¸‹è½½åŠŸèƒ½

#### **æ ‡ç­¾é¡µé›†æˆ**
- âœ… ä½œä¸ºç‰¹æ®Šæ ‡ç­¾é¡µç±»å‹é›†æˆåˆ°Paneç³»ç»Ÿ
- âœ… æ”¯æŒæ ‡ç­¾é¡µåˆ‡æ¢ã€å…³é—­
- âœ… æ”¯æŒåˆ†å±æ“ä½œ
- âœ… æ”¯æŒæ‹–æ‹½åˆ°æ–°çª—å£
- âœ… å¯¼èˆªæ å…¥å£ï¼ˆğŸ“„æ–‡æ¡£è§£æå™¨å›¾æ ‡ï¼‰

---

## ğŸ”§ äºŒã€ä½¿ç”¨çš„æ¥å£ã€APIä¸æ–¹æ³•

### 2.1 æ–°å¢ä¾èµ–åŒ…

```json
{
  "dependencies": {
    "@guolao/vue-monaco-editor": "^1.5.2",  // Vue3 Monacoç¼–è¾‘å™¨
    "xlsx": "^0.18.5"                        // Excelå¯¼å‡º
  }
}
```

### 2.2 æ ¸å¿ƒStoreæ–¹æ³•

#### **useDocParserStore**
```typescript
// çŠ¶æ€
projectPath: Ref<string>
currentSchema: Ref<DocParserSchema | null>
sourceContent: Ref<string>
parsedData: Ref<ParsedData | null>
exportConfig: Ref<ExportConfig | null>
loading: Ref<boolean>
error: Ref<string | null>

// æ–¹æ³•
initProject(path: string): void
updateSchema(schema: JsonSchema): void
clearSchema(): void
loadDocument(content: string): Promise<void>
selectDocument(filePath: string): Promise<void>
parse(): Promise<void>
setParseResult(data: ParsedData): void
exportExcel(outputPath: string): Promise<void>
clearError(): void
reset(): void
```

#### **useMarkdownStore æ‰©å±•**
```typescript
openDocParser(): MarkdownTab  // æ–°å¢ï¼šæ‰“å¼€DocParseræ ‡ç­¾é¡µ
```

### 2.3 Serviceå±‚API

#### **RegexEngine**
```typescript
execute(text: string, config: RegexEngineConfig): RegexMatch
executeGlobal(text: string, config: RegexEngineConfig): RegexMatch[]
fromParseMetadata(metadata: ParseMetadata): RegexEngineConfig
validateRegex(pattern: string, flags?: string): boolean
matchLines(text: string, config: RegexEngineConfig): Array<{...}>
```

#### **SchemaValidator**
```typescript
validate(schema: DocParserSchema): SchemaValidationResult
quickValidate(schema: DocParserSchema): boolean
```

#### **DocumentParser**
```typescript
parse(content: string, schema: DocParserSchema): ParsedData
parseAdvanced(content: string, schema: DocParserSchema): ParsedData
```

#### **ExcelExporter**
```typescript
export(data: ParsedData, config: ExportConfig, sheetName: string): ArrayBuffer
exportCSV(data: ParsedData, config: ExportConfig): string
exportAdvanced(data: ParsedData, config: ExportConfig, options: {...}): ArrayBuffer
```

### 2.4 DataSourceæ‰©å±•

```typescript
// æ–°å¢5ä¸ªæ–¹æ³•
listSchemaFiles(projectPath: string): Promise<string[]>
loadSchema(schemaPath: string): Promise<string>
saveSchema(schemaPath: string, schemaContent: string): Promise<boolean>
readDocumentFile(filePath: string): Promise<string>
saveExportedFile(filePath: string, content: ArrayBuffer | string): Promise<boolean>
```

### 2.5 ç±»å‹ç³»ç»Ÿæ‰©å±•

#### **MarkdownTabæ‰©å±•**
```typescript
interface MarkdownTab {
  type?: 'markdown' | 'docparser'  // æ–°å¢ï¼šæ ‡ç­¾é¡µç±»å‹
  // ...å…¶ä»–å­—æ®µ
}
```

#### **JSON Schemaæ‰©å±•å­—æ®µ**
```typescript
interface DocParserSchemaField extends JsonSchemaField {
  'x-parse'?: ParseMetadata      // è§£æè§„åˆ™
  'x-export'?: ExportMetadata    // å¯¼å‡ºé…ç½®
}
```

---

## ğŸ“ ä¸‰ã€é¡¹ç›®è§„èŒƒä¸ä¹ æƒ¯

### 3.1 æ–‡ä»¶ç»„ç»‡è§„èŒƒ

#### **æŒ‰åŠŸèƒ½åˆ†å±‚å­˜æ”¾**
- **GUIå±‚**: `Client/GUI/components/ProjectPage.MainPanel/[åŠŸèƒ½å]/`
- **Storeå±‚**: `Client/stores/projectPage/[åŠŸèƒ½å]/`
- **Serviceå±‚**: `Client/Service/[åŠŸèƒ½å]/`

#### **ç±»å‹å®šä¹‰ä½ç½®**
- **æ ¸å¿ƒç±»å‹**: Storeå±‚ `[åŠŸèƒ½å].types.ts`
- **Serviceç±»å‹**: Serviceå±‚ `[åŠŸèƒ½å].service.types.ts`
- **é¿å…å¾ªç¯ä¾èµ–**: ç±»å‹å®šä¹‰è·Ÿéšä½¿ç”¨æ¨¡å—

#### **å¯¼å‡ºè§„èŒƒ**
- æ¯ä¸ªç›®å½•å¿…é¡»æœ‰`index.ts`ç»Ÿä¸€å¯¼å‡º
- é¿å…ç›´æ¥å¯¼å…¥å­æ¨¡å—ï¼Œç»Ÿä¸€ä»indexå¯¼å…¥

### 3.2 å‘½åä¹ æƒ¯

#### **ç»„ä»¶å‘½å**
- Vueç»„ä»¶: **PascalCase** (å¦‚`DocParserPanel.vue`)
- ç»„ä»¶ç›®å½•: **PascalCase** (å¦‚`SchemaEditor/`)

#### **Storeå‘½å**
- Storeæ–‡ä»¶: **åŠŸèƒ½å.store.ts** (å¦‚`docParser.store.ts`)
- è¾…åŠ©æ–‡ä»¶: **åŠŸèƒ½å.è¾…åŠ©ç±»å‹.ts** (å¦‚`docParser.mock.ts`)

#### **æ–¹æ³•å‘½å**
- äº‹ä»¶å¤„ç†: `handle[åŠ¨ä½œ]` (å¦‚`handleParse`)
- å·¥å…·æ–¹æ³•: åŠ¨è¯å¼€å¤´ (å¦‚`parseDocument`, `exportToExcel`)

### 3.3 è·¯å¾„åˆ«åï¼ˆQuasaré…ç½®ï¼‰

```typescript
'@service'   â†’ Client/Service/
'@stores'    â†’ Client/stores/
'@utils'     â†’ Client/Utils/
'@types'     â†’ Client/Types/
'@gui'       â†’ Client/GUI/
'@components'â†’ Client/GUI/components/
```

**âš ï¸ æ³¨æ„**: åˆ«åå…¨éƒ¨å°å†™ï¼

### 3.4 Mockä¼˜å…ˆç­–ç•¥

- å¼€å‘æ—¶ä¼˜å…ˆä½¿ç”¨Mockæ•°æ®
- é€šè¿‡`DataSource`ç»Ÿä¸€æŠ½è±¡æ–‡ä»¶æ“ä½œ
- `Environment.shouldUseMock()`è‡ªåŠ¨åˆ‡æ¢ç¯å¢ƒ

---

## âš ï¸ å››ã€è¸©è¿‡çš„å‘ä¸ç»éªŒæ€»ç»“

### 4.1 è·¯å¾„åˆ«åå¤§å°å†™é—®é¢˜

**é—®é¢˜**: 
```typescript
import { ExcelExporter } from '@Service/docParser'  // âŒ é”™è¯¯
```

**åŸå› **: Quasaré…ç½®ä¸­åˆ«åæ˜¯å°å†™`@service`

**è§£å†³**:
```typescript
import { ExcelExporter } from '@service/docParser'  // âœ… æ­£ç¡®
```

**ç»éªŒ**: ç»Ÿä¸€ä½¿ç”¨å°å†™åˆ«åï¼Œé¿å…å¤§å°å†™ä¸ä¸€è‡´å¯¼è‡´çš„è·¯å¾„è§£æå¤±è´¥

---

### 4.2 å¯¼å…¥è·¯å¾„500é”™è¯¯

**é—®é¢˜**:
```
GET http://localhost:9300/Client/stores/projectPage/docParser/parser.ts 
net::ERR_ABORTED 500
```

**åŸå› **: ç›´æ¥å¯¼å…¥å­æ¨¡å—è€Œéé€šè¿‡index.tså¯¼å‡º

**è§£å†³**:
```typescript
// âŒ é”™è¯¯
import { parseDocument } from '@stores/projectPage/docParser/parser'

// âœ… æ­£ç¡®
import { parseDocument } from '@stores/projectPage/docParser'

// index.tsä¸­å¯¼å‡º
export * from './parser'
export * from './exporter'
```

**ç»éªŒ**: æ‰€æœ‰æ¨¡å—å¿…é¡»é€šè¿‡`index.ts`ç»Ÿä¸€å¯¼å‡º

---

### 4.3 æ ‡ç­¾é¡µåˆ›å»ºä½†ä¸æ˜¾ç¤º

**é—®é¢˜**: DocParseræ ‡ç­¾é¡µåˆ›å»ºæˆåŠŸï¼Œä½†é¡µé¢ä»æ˜¯æ¬¢è¿é¡µ

**åŸå› **: å½“å‰Paneæ ‘ä¸ºnullï¼ˆæ¬¢è¿é¡µçŠ¶æ€ï¼‰ï¼Œæ ‡ç­¾é¡µæ²¡æœ‰æ·»åŠ åˆ°ä»»ä½•é¢æ¿

**è§£å†³**:
```typescript
// âŒ æ—§é€»è¾‘
if (focusedPaneId) {
  paneLayoutStore.addTabToPane(focusedPaneId, tab.id)
}

// âœ… æ–°é€»è¾‘ï¼ˆå‚è€ƒFileTreeå®ç°ï¼‰
if (!paneLayoutStore.focusedPane) {
  paneLayoutStore.resetToDefaultLayout()  // å…ˆåˆ›å»ºé»˜è®¤å¸ƒå±€
}
paneLayoutStore.openTabInPane(paneLayoutStore.focusedPane.id, tab.id)
```

**ç»éªŒ**: å‚è€ƒç°æœ‰åŠŸèƒ½çš„å®ç°ï¼Œå°¤å…¶æ˜¯è¾¹ç•Œæƒ…å†µå¤„ç†

---

### 4.4 ç±»å‹å®šä¹‰ä½ç½®æ··ä¹±

**åˆå§‹æ–¹æ¡ˆ**: åˆ›å»ºç‹¬ç«‹çš„`Client/Types/docParser/`ç›®å½•

**é—®é¢˜**: 
- å¯¼è‡´å¾ªç¯ä¾èµ–
- ç±»å‹å®šä¹‰ä¸ä½¿ç”¨æ¨¡å—åˆ†ç¦»
- å¢åŠ ç»´æŠ¤æˆæœ¬

**æœ€ç»ˆæ–¹æ¡ˆ**: ç±»å‹å®šä¹‰è·Ÿéšä½¿ç”¨æ¨¡å—
- Storeç±»å‹ â†’ `stores/projectPage/docParser/docParser.types.ts`
- Serviceç±»å‹ â†’ `Service/docParser/docParser.service.types.ts`

**ç»éªŒ**: ç±»å‹å®šä¹‰åº”è¯¥é è¿‘ä½¿ç”¨å®ƒçš„æ¨¡å—ï¼Œé¿å…è¿‡åº¦æŠ½è±¡

---

### 4.5 Monacoç¼–è¾‘å™¨ä¾èµ–ç¼ºå¤±

**é—®é¢˜**: `JsonSchemaCodeEditor.vue`ä½¿ç”¨Monacoä½†æœªå®‰è£…ä¾èµ–

**è§£å†³**: æ·»åŠ ä¾èµ–
```bash
npm install @guolao/vue-monaco-editor@^1.5.2
```

**ç»éªŒ**: è¿ç§»ç»„ä»¶æ—¶ï¼Œæ£€æŸ¥æ‰€æœ‰å¯¼å…¥çš„ç¬¬ä¸‰æ–¹ä¾èµ–

---

## ğŸ”„ äº”ã€æ ‡å‡†å·¥ä½œæµç¨‹æ€»ç»“

### 5.1 æ·»åŠ æ–°åŠŸèƒ½ç³»ç»Ÿçš„å®Œæ•´æµç¨‹

#### **Phase 1: æ¶æ„è®¾è®¡ï¼ˆè§„åˆ’ï¼‰**

1. **æ˜ç¡®éœ€æ±‚ä¸åŠŸèƒ½è¾¹ç•Œ**
   - æ ¸å¿ƒåŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿ
   - éœ€è¦å“ªäº›å­æ¨¡å—ï¼Ÿ
   - ä¸ç°æœ‰ç³»ç»Ÿå¦‚ä½•é›†æˆï¼Ÿ

2. **è®¾è®¡æ–‡ä»¶æ¶æ„**
   - åˆ›å»ºæ¶æ„è®¾è®¡æ–‡æ¡£ï¼ˆå¦‚`Plan1.md`ï¼‰
   - ç¡®å®šç›®å½•ç»“æ„ï¼ˆGUI/Store/Serviceä¸‰å±‚ï¼‰
   - è§„åˆ’æ–‡ä»¶æ¸…å•

3. **å®šä¹‰ç±»å‹ç³»ç»Ÿ**
   - æ ¸å¿ƒæ•°æ®ç»“æ„
   - APIæ¥å£ç±»å‹
   - å·¥å…·å‡½æ•°ç±»å‹

#### **Phase 2: åŸºç¡€æ­å»ºï¼ˆå®ç°ï¼‰**

4. **åˆ›å»ºç›®å½•ç»“æ„**
   ```bash
   mkdir -p Client/GUI/components/ProjectPage.MainPanel/[åŠŸèƒ½å]
   mkdir -p Client/stores/projectPage/[åŠŸèƒ½å]
   mkdir -p Client/Service/[åŠŸèƒ½å]
   ```

5. **å®ç°ç±»å‹å®šä¹‰**
   - `[åŠŸèƒ½å].types.ts` (Storeå±‚)
   - `[åŠŸèƒ½å].service.types.ts` (Serviceå±‚)

6. **å®ç°Storeå±‚**
   - `[åŠŸèƒ½å].store.ts` - çŠ¶æ€ç®¡ç†
   - `[åŠŸèƒ½å].mock.ts` - Mockæ•°æ®
   - `index.ts` - ç»Ÿä¸€å¯¼å‡º

7. **æ‰©å±•DataSource**ï¼ˆå¦‚éœ€æ–‡ä»¶æ“ä½œï¼‰
   - æ·»åŠ æ–°æ–¹æ³•åˆ°`DataSource.ts`
   - å®ç°Mocké€»è¾‘
   - æ ‡æ³¨Electronå±‚å¾…å®ç°

#### **Phase 3: ä¸šåŠ¡é€»è¾‘ï¼ˆæ ¸å¿ƒï¼‰**

8. **å®ç°Serviceå±‚**
   - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ¨¡å—ï¼ˆå¦‚è§£æå¼•æ“ã€å¯¼å‡ºå™¨ï¼‰
   - å·¥å…·å‡½æ•°ï¼ˆå¦‚æ­£åˆ™å¼•æ“ã€éªŒè¯å™¨ï¼‰
   - `index.ts`å¯¼å‡º

9. **å°è£…Storeå±‚é€»è¾‘**
   - è°ƒç”¨Serviceå±‚çš„å°è£…å‡½æ•°
   - é”™è¯¯å¤„ç†
   - ç”¨æˆ·æç¤ºï¼ˆElMessageï¼‰

10. **åˆ›å»ºUIç»„ä»¶**
    - ä¸»å®¹å™¨ç»„ä»¶
    - åŠŸèƒ½å­ç»„ä»¶
    - `index.ts`å¯¼å‡º

#### **Phase 4: é›†æˆä¸æµ‹è¯•ï¼ˆæ•´åˆï¼‰**

11. **é›†æˆåˆ°ç°æœ‰ç³»ç»Ÿ**
    - å¯¼èˆªæ å…¥å£
    - æ ‡ç­¾é¡µ/è·¯ç”±æ³¨å†Œ
    - Paneç³»ç»Ÿé›†æˆ

12. **æ·»åŠ ä¾èµ–åŒ…**
    - æ›´æ–°`package.json`
    - `npm install`

13. **è°ƒè¯•ä¸ä¼˜åŒ–**
    - ä¿®å¤è·¯å¾„åˆ«åé—®é¢˜
    - å¤„ç†è¾¹ç•Œæƒ…å†µ
    - æ€§èƒ½ä¼˜åŒ–

14. **æ–‡æ¡£ä¸æ€»ç»“**
    - æ›´æ–°æ¶æ„æ–‡æ¡£
    - ç¼–å†™ä½¿ç”¨è¯´æ˜
    - é¡¹ç›®æ€»ç»“æŠ¥å‘Š

---

### 5.2 å…³é”®æ£€æŸ¥æ¸…å•

#### **å¼€å‘å‰æ£€æŸ¥**
- [ ] éœ€æ±‚æ˜ç¡®ï¼Œè¾¹ç•Œæ¸…æ™°
- [ ] æ¶æ„è®¾è®¡æ–‡æ¡£å®Œæˆ
- [ ] ç±»å‹å®šä¹‰è§„åˆ’å®Œæˆ
- [ ] ç¡®è®¤ä¾èµ–åŒ…éœ€æ±‚

#### **å¼€å‘ä¸­æ£€æŸ¥**
- [ ] æ–‡ä»¶æŒ‰è§„èŒƒå­˜æ”¾
- [ ] è·¯å¾„åˆ«åæ­£ç¡®ï¼ˆå°å†™ï¼‰
- [ ] æ‰€æœ‰æ¨¡å—é€šè¿‡index.tså¯¼å‡º
- [ ] ç±»å‹å®šä¹‰ä½ç½®åˆç†ï¼ˆé¿å…å¾ªç¯ä¾èµ–ï¼‰
- [ ] Mockæ•°æ®å®Œæ•´

#### **é›†æˆå‰æ£€æŸ¥**
- [ ] ç¬¬ä¸‰æ–¹ä¾èµ–å·²æ·»åŠ 
- [ ] DataSourceæ–¹æ³•å·²æ‰©å±•
- [ ] Storeæ–¹æ³•å·²å¯¼å‡º
- [ ] ç»„ä»¶å·²æ­£ç¡®å¯¼å…¥

#### **æµ‹è¯•æ£€æŸ¥**
- [ ] Mockç¯å¢ƒå¯ç”¨
- [ ] è¾¹ç•Œæƒ…å†µå¤„ç†ï¼ˆå¦‚æ¬¢è¿é¡µçŠ¶æ€ï¼‰
- [ ] é”™è¯¯æç¤ºå‹å¥½
- [ ] æ§åˆ¶å°æ— æŠ¥é”™

---

### 5.3 å¸¸è§é—®é¢˜å¿«é€Ÿå®šä½

| é—®é¢˜ç±»å‹ | ç—‡çŠ¶ | æ’æŸ¥æ­¥éª¤ |
|---------|------|---------|
| **å¯¼å…¥è·¯å¾„é”™è¯¯** | 500é”™è¯¯ã€æ¨¡å—æœªæ‰¾åˆ° | 1. æ£€æŸ¥åˆ«åå¤§å°å†™<br>2. ç¡®è®¤index.tså¯¼å‡º<br>3. æŸ¥çœ‹quasar.config.tsåˆ«åé…ç½® |
| **æ ‡ç­¾é¡µä¸æ˜¾ç¤º** | åˆ›å»ºæˆåŠŸä½†é¡µé¢æ— å˜åŒ– | 1. æ£€æŸ¥Paneæ ‘çŠ¶æ€<br>2. æ˜¯å¦è°ƒç”¨resetToDefaultLayout<br>3. æ˜¯å¦è°ƒç”¨openTabInPane |
| **ç±»å‹é”™è¯¯** | TypeScriptæŠ¥é”™ | 1. æ£€æŸ¥ç±»å‹å¯¼å…¥è·¯å¾„<br>2. ç¡®è®¤ç±»å‹å®šä¹‰ä½ç½®<br>3. æŸ¥çœ‹index.tsæ˜¯å¦å¯¼å‡ºç±»å‹ |
| **ä¾èµ–ç¼ºå¤±** | ç¼–è¯‘é”™è¯¯ã€è¿è¡Œæ—¶é”™è¯¯ | 1. æ£€æŸ¥package.json<br>2. npm install<br>3. é‡å¯å¼€å‘æœåŠ¡å™¨ |

---

## ğŸ“Š å…­ã€é¡¹ç›®çŠ¶æ€

### 6.1 å·²å®Œæˆ âœ…

- [x] ä¸‰å±‚æ¶æ„æ­å»º
- [x] JSON Schemaç¼–è¾‘ç³»ç»Ÿè¿ç§»
- [x] æ ¸å¿ƒServiceå±‚å®ç°
- [x] StoreçŠ¶æ€ç®¡ç†
- [x] UIç»„ä»¶å¼€å‘
- [x] æ ‡ç­¾é¡µç³»ç»Ÿé›†æˆ
- [x] å¯¼èˆªæ å…¥å£
- [x] Mockæ•°æ®ç³»ç»Ÿ
- [x] ä¾èµ–åŒ…é…ç½®

### 6.2 å¾…ä¼˜åŒ– ğŸ”„

- [ ] Electronå±‚æ–‡ä»¶æ“ä½œå®ç°
- [ ] Excelå¯¼å‡ºæ ·å¼æ”¯æŒ
- [ ] è§£ææ€§èƒ½ä¼˜åŒ–
- [ ] é”™è¯¯å¤„ç†å¢å¼º
- [ ] ç”¨æˆ·å¼•å¯¼ä¸å¸®åŠ©
- [ ] å•å…ƒæµ‹è¯•
- [ ] æ–‡æ¡£å®Œå–„

### 6.3 å¾…æ‰©å±• ğŸ’¡

- [ ] æ›´å¤šå¯¼å‡ºæ ¼å¼ï¼ˆJSONã€XMLï¼‰
- [ ] Schemaæ¨¡æ¿åº“
- [ ] æ‰¹é‡æ–‡æ¡£å¤„ç†
- [ ] è§£æç»“æœå¯¹æ¯”
- [ ] å†å²è®°å½•

---

## ğŸ¯ ä¸ƒã€ä¸‹ä¸€é˜¶æ®µå»ºè®®

### 7.1 çŸ­æœŸç›®æ ‡ï¼ˆæœ¬å‘¨ï¼‰

1. **å®ŒæˆElectronå±‚å®ç°**
   - `listSchemaFiles` - è¯»å–.docparserç›®å½•
   - `saveExportedFile` - ä¿å­˜äºŒè¿›åˆ¶æ–‡ä»¶

2. **UIä¼˜åŒ–**
   - ä¼˜åŒ–å¸ƒå±€å“åº”å¼
   - æ·»åŠ åŠ è½½åŠ¨ç”»
   - æ”¹è¿›é”™è¯¯æç¤º

3. **åŠŸèƒ½æµ‹è¯•**
   - å®Œæ•´æµç¨‹æµ‹è¯•
   - è¾¹ç•Œæƒ…å†µæµ‹è¯•
   - æ€§èƒ½æµ‹è¯•

### 7.2 ä¸­æœŸç›®æ ‡ï¼ˆæœ¬æœˆï¼‰

1. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**
   - æ·»åŠ ä½¿ç”¨æ•™ç¨‹
   - å¿«æ·é”®æ”¯æŒ
   - æ‹–æ‹½ä¸Šä¼ æ–‡ä»¶

2. **åŠŸèƒ½å¢å¼º**
   - Schemaæ¨¡æ¿åº“
   - å¯¼å‡ºé¢„è§ˆ
   - æ‰¹é‡å¤„ç†

3. **æ–‡æ¡£å®Œå–„**
   - APIæ–‡æ¡£
   - ç”¨æˆ·æ‰‹å†Œ
   - å¼€å‘æŒ‡å—

---

## ğŸ“ å…«ã€é™„å½•

### 8.1 æ–‡ä»¶æ¸…å•

**GUIå±‚** (15ä¸ªæ–‡ä»¶)
- DocParserPanel.vue
- TopBar.vue
- FileSelector.vue
- ResultPreview.vue
- ExportConfig.vue
- SchemaEditor/ (9ä¸ªç»„ä»¶)
- index.ts

**Storeå±‚** (7ä¸ªæ–‡ä»¶)
- docParser.store.ts
- docParser.types.ts
- docParser.schemaUtils.ts
- docParser.mock.ts
- parser.ts
- exporter.ts
- index.ts

**Serviceå±‚** (6ä¸ªæ–‡ä»¶)
- regexEngine.ts
- schemaValidator.ts
- documentParser.ts
- excelExporter.ts
- docParser.service.types.ts
- index.ts

**å…¶ä»–ä¿®æ”¹**
- DataSource.ts (æ‰©å±•)
- MarkdownTab types.ts (æ‰©å±•)
- PaneContent.vue (æ”¯æŒdocparserç±»å‹)
- ProjectNavbar.vue (æ·»åŠ å…¥å£)
- markdown.store.ts (æ·»åŠ openDocParser)
- package.json (æ·»åŠ ä¾èµ–)

**æ€»è®¡**: çº¦30ä¸ªæ–‡ä»¶ï¼Œæ–°å¢ä»£ç çº¦4000è¡Œ

---

## ğŸ† ä¹ã€æ€»ç»“

DocParserç³»ç»Ÿæ˜¯Nimbriaé¡¹ç›®çš„é‡è¦åŠŸèƒ½æ‰©å±•ï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨ç°æœ‰æ¶æ„ä¸Šæ·»åŠ æ–°ç³»ç»Ÿçš„å®Œæ•´æµç¨‹ã€‚

**æ ¸å¿ƒç»éªŒ**:
1. **éµå¾ªç°æœ‰æ¶æ„è§„èŒƒ** - å‚è€ƒMarkdownç³»ç»Ÿçš„å®ç°
2. **ç±»å‹å®šä¹‰è·Ÿéšæ¨¡å—** - é¿å…è¿‡åº¦æŠ½è±¡å’Œå¾ªç¯ä¾èµ–
3. **Mockä¼˜å…ˆå¼€å‘** - è§£è€¦å‰åç«¯ï¼Œæé«˜å¼€å‘æ•ˆç‡
4. **ç»Ÿä¸€å¯¼å‡ºç®¡ç†** - index.tsé¿å…è·¯å¾„æ··ä¹±
5. **è¾¹ç•Œæƒ…å†µå¤„ç†** - å‚è€ƒç°æœ‰åŠŸèƒ½çš„æˆç†Ÿå®ç°

**é¡¹ç›®äº®ç‚¹**:
- âœ¨ å®Œæ•´çš„ä¸‰å±‚æ¶æ„å®ç°
- âœ¨ æˆåŠŸè¿ç§»å¹¶é›†æˆç¬¬ä¸‰æ–¹ç³»ç»Ÿï¼ˆJsonSchemaEditorï¼‰
- âœ¨ åˆ›æ–°çš„æ ‡ç­¾é¡µé›†æˆæ–¹æ¡ˆ
- âœ¨ å¯æ‰©å±•çš„Serviceå±‚è®¾è®¡
- âœ¨ Mock-firstå¼€å‘ç­–ç•¥

**ä¸‹ä¸€æ­¥**: å®ŒæˆElectronå±‚å®ç°ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒï¼Œæ‰©å±•é«˜çº§åŠŸèƒ½ã€‚

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025å¹´10æœˆ12æ—¥ 21:23:16  
**é¡¹ç›®çŠ¶æ€**: ğŸš€ æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼Œè¿›å…¥ä¼˜åŒ–é˜¶æ®µ

