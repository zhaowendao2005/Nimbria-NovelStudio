<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VS Code命令面板模拟</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'vscode': {
                            'bg': '#1e1e1e',
                            'bg-light': '#2d2d2d',
                            'border': '#383838',
                            'accent': '#007acc',
                            'text': '#d4d4d4',
                            'text-light': '#ffffff',
                            'text-secondary': '#8a8a8a',
                            'command-hover': '#3a3a3a'
                        }
                    },
                    fontFamily: {
                        'vscode': ['Segoe WPC', 'Segoe UI', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .scrollbar-thin {
                scrollbar-width: thin;
            }
            .scrollbar-thin::-webkit-scrollbar {
                width: 6px;
            }
            .scrollbar-thin::-webkit-scrollbar-thumb {
                background-color: rgba(156, 163, 175, 0.5);
                border-radius: 3px;
            }
        }
    </style>
</head>
<body class="bg-slate-800 font-vscode text-vscode-text min-h-screen">
    <!-- VS Code 顶部导航栏 -->
    <header class="bg-vscode-bg border-b border-vscode-border px-4 py-2 flex items-center">
        <div class="flex items-center space-x-4 mr-6">
            <button class="text-vscode-text hover:text-vscode-text-light p-1 rounded hover:bg-vscode-bg-light transition-colors">
                <i class="fa fa-bars"></i>
            </button>
            <span class="text-sm">文件(F)</span>
            <span class="text-sm">编辑(E)</span>
            <span class="text-sm">选择(S)</span>
            <span class="text-sm">查看(V)</span>
            <span class="text-sm">转到(G)</span>
            <span class="text-sm">运行(R)</span>
            <span class="text-sm">终端(T)</span>
            <span class="text-sm">帮助(H)</span>
        </div>
        
        <!-- 搜索/命令输入框 -->
        <div class="relative flex-1 max-w-3xl">
            <div id="command-palette-trigger" class="flex items-center bg-vscode-bg-light rounded-md px-3 py-1.5 w-full cursor-text hover:bg-vscode-bg-light transition-colors">
                <i class="fa fa-search text-vscode-text-secondary mr-2"></i>
                <input type="text" placeholder="搜索命令、文件或设置" class="bg-transparent border-none outline-none w-full text-sm placeholder-vscode-text-secondary" id="search-input">
            </div>
        </div>
        
        <div class="flex items-center space-x-3 ml-6">
            <button class="text-vscode-text hover:text-vscode-text-light p-1.5 rounded hover:bg-vscode-bg-light transition-colors">
                <i class="fa fa-gear"></i>
            </button>
            <button class="text-vscode-text hover:text-vscode-text-light p-1.5 rounded hover:bg-vscode-bg-light transition-colors">
                <i class="fa fa-question-circle"></i>
            </button>
            <div class="flex items-center space-x-1 ml-2">
                <button class="text-vscode-text hover:text-vscode-text-light p-1 rounded hover:bg-vscode-bg-light transition-colors">
                    <i class="fa fa-window-maximize"></i>
                </button>
                <button class="text-vscode-text hover:text-vscode-text-light p-1 rounded hover:bg-vscode-bg-light transition-colors">
                    <i class="fa fa-window-minimize"></i>
                </button>
                <button class="text-vscode-text hover:text-vscode-text-light p-1 rounded hover:bg-vscode-bg-light transition-colors">
                    <i class="fa fa-times"></i>
                </button>
            </div>
        </div>
    </header>
    
    <!-- 主内容区 -->
    <main class="flex h-[calc(100vh-40px)]">
        <!-- 左侧边栏 -->
        <aside class="w-14 bg-vscode-bg border-r border-vscode-border flex flex-col items-center py-4 space-y-6">
            <button class="text-vscode-text hover:text-vscode-text-light p-2 rounded hover:bg-vscode-bg-light transition-colors">
                <i class="fa fa-files-o text-lg"></i>
            </button>
            <button class="text-vscode-text hover:text-vscode-text-light p-2 rounded hover:bg-vscode-bg-light transition-colors">
                <i class="fa fa-search text-lg"></i>
            </button>
            <button class="text-vscode-text hover:text-vscode-text-light p-2 rounded hover:bg-vscode-bg-light transition-colors">
                <i class="fa fa-code text-lg"></i>
            </button>
            <button class="text-vscode-text hover:text-vscode-text-light p-2 rounded hover:bg-vscode-bg-light transition-colors">
                <i class="fa fa-terminal text-lg"></i>
            </button>
            <button class="text-vscode-text hover:text-vscode-text-light p-2 rounded hover:bg-vscode-bg-light transition-colors">
                <i class="fa fa-bug text-lg"></i>
            </button>
        </aside>
        
        <!-- 编辑区域 -->
        <section class="flex-1 bg-slate-900 flex items-center justify-center">
            <div class="text-center">
                <div class="text-8xl font-bold text-vscode-border mb-6">
                    <i class="fa fa-code"></i>
                </div>
                <p class="text-vscode-text-secondary">没有打开的编辑器</p>
            </div>
        </section>
    </main>
    
    <!-- 命令面板 (默认隐藏) -->
    <div id="command-palette" class="fixed inset-0 bg-black/50 flex items-start justify-center pt-24 z-50 hidden">
        <div class="w-full max-w-2xl bg-vscode-bg rounded-md shadow-2xl border border-vscode-border overflow-hidden">
            <!-- 命令面板头部 -->
            <div class="border-b border-vscode-border px-4 py-3">
                <div class="flex items-center">
                    <i class="fa fa-search text-vscode-text-secondary mr-2"></i>
                    <input type="text" id="command-input" placeholder="按名称搜索文件( Ctrl+P )，转到行，添加 @ 转到符号" class="bg-transparent border-none outline-none w-full text-sm placeholder-vscode-text-secondary">
                </div>
                <div class="text-xs text-vscode-text-secondary mt-2">
                    <span class="mr-4">显示所有命令 <kbd class="bg-vscode-bg-light px-1.5 py-0.5 rounded text-xs">Ctrl+Shift+P</kbd></span>
                    <span>打开文件 <kbd class="bg-vscode-bg-light px-1.5 py-0.5 rounded text-xs">Ctrl+O</kbd></span>
                </div>
            </div>
            
            <!-- 命令列表 -->
            <div class="max-h-[60vh] overflow-y-auto scrollbar-thin">
                <ul id="command-list" class="divide-y divide-vscode-border">
                    <!-- 命令项会通过JS动态生成 -->
                </ul>
            </div>
            
            <!-- 最近打开的文件 -->
            <div class="border-t border-vscode-border px-4 py-2">
                <p class="text-xs font-medium text-vscode-text-secondary mb-2">最近打开</p>
                <ul id="recent-files" class="divide-y divide-vscode-border">
                    <!-- 最近文件会通过JS动态生成 -->
                </ul>
            </div>
        </div>
    </div>

    <script>
        // 模拟命令数据
        const commands = [
            { name: "新建文件", shortcut: "Ctrl+N" },
            { name: "打开文件...", shortcut: "Ctrl+O" },
            { name: "保存", shortcut: "Ctrl+S" },
            { name: "另存为...", shortcut: "Ctrl+Shift+S" },
            { name: "关闭编辑器", shortcut: "Ctrl+W" },
            { name: "关闭文件夹", shortcut: "Ctrl+K F" },
            { name: "重新加载窗口", shortcut: "Ctrl+Shift+P" },
            { name: "撤销", shortcut: "Ctrl+Z" },
            { name: "重做", shortcut: "Ctrl+Y" },
            { name: "剪切", shortcut: "Ctrl+X" },
            { name: "复制", shortcut: "Ctrl+C" },
            { name: "粘贴", shortcut: "Ctrl+V" },
            { name: "查找", shortcut: "Ctrl+F" },
            { name: "替换", shortcut: "Ctrl+H" },
            { name: "转到行...", shortcut: "Ctrl+G" },
            { name: "格式化文档", shortcut: "Shift+Alt+F" },
            { name: "切换终端", shortcut: "Ctrl+`" },
            { name: "新建终端", shortcut: "Ctrl+Shift+`" },
            { name: "运行任务", shortcut: "" },
            { name: "开始调试", shortcut: "F5" },
            { name: "停止调试", shortcut: "Shift+F5" },
            { name: "逐步执行", shortcut: "F10" },
            { name: "进入函数", shortcut: "F11" },
            { name: "退出函数", shortcut: "Shift+F11" },
            { name: "打开用户设置", shortcut: "Ctrl+," },
            { name: "打开键盘快捷方式", shortcut: "Ctrl+K Ctrl+S" },
            { name: "安装扩展", shortcut: "" },
            { name: "查看扩展", shortcut: "" },
            { name: "切换全屏", shortcut: "F11" },
            { name: "放大", shortcut: "Ctrl+=" },
            { name: "缩小", shortcut: "Ctrl+-" },
            { name: "重置缩放", shortcut: "Ctrl+0" }
        ];
        
        // 模拟最近文件数据
        const recentFiles = [
            { name: "app.js", path: "src/main/app.js" },
            { name: "index.html", path: "public/index.html" },
            { name: "style.css", path: "src/assets/style.css" },
            { name: "utils.js", path: "src/helpers/utils.js" },
            { name: "README.md", path: "README.md" }
        ];
        
        // DOM元素
        const commandPalette = document.getElementById('command-palette');
        const commandPaletteTrigger = document.getElementById('command-palette-trigger');
        const commandInput = document.getElementById('command-input');
        const commandList = document.getElementById('command-list');
        const recentFilesList = document.getElementById('recent-files');
        const searchInput = document.getElementById('search-input');
        
        // 初始化命令列表
        function renderCommands(commandsToRender) {
            commandList.innerHTML = '';
            commandsToRender.forEach((command, index) => {
                const li = document.createElement('li');
                li.className = `px-4 py-2 hover:bg-vscode-command-hover cursor-pointer ${index === 0 ? 'bg-vscode-accent/20' : ''}`;
                li.innerHTML = `
                    <div class="flex justify-between items-center">
                        <span>${command.name}</span>
                        ${command.shortcut ? `<kbd class="bg-vscode-bg-light px-1.5 py-0.5 rounded text-xs">${command.shortcut}</kbd>` : ''}
                    </div>
                `;
                li.addEventListener('click', () => {
                    alert(`执行命令: ${command.name}`);
                    commandPalette.classList.add('hidden');
                });
                commandList.appendChild(li);
            });
        }
        
        // 初始化最近文件列表
        function renderRecentFiles() {
            recentFilesList.innerHTML = '';
            recentFiles.forEach(file => {
                const li = document.createElement('li');
                li.className = "px-4 py-2 hover:bg-vscode-command-hover cursor-pointer";
                li.innerHTML = `
                    <div>
                        <div class="flex items-center">
                            <i class="fa fa-file-text-o text-vscode-text-secondary mr-2"></i>
                            <span>${file.name}</span>
                        </div>
                        <div class="text-xs text-vscode-text-secondary mt-0.5 ml-6">${file.path}</div>
                    </div>
                `;
                li.addEventListener('click', () => {
                    alert(`打开文件: ${file.name}`);
                    commandPalette.classList.add('hidden');
                });
                recentFilesList.appendChild(li);
            });
        }
        
        // 搜索命令
        function searchCommands(query) {
            if (!query) {
                renderCommands(commands);
                return;
            }
            
            const filtered = commands.filter(command => 
                command.name.toLowerCase().includes(query.toLowerCase())
            );
            renderCommands(filtered);
        }
        
        // 打开命令面板
        function openCommandPalette() {
            commandPalette.classList.remove('hidden');
            commandInput.focus();
            renderCommands(commands);
        }
        
        // 关闭命令面板
        function closeCommandPalette() {
            commandPalette.classList.add('hidden');
        }
        
        // 事件监听
        commandPaletteTrigger.addEventListener('click', openCommandPalette);
        
        commandInput.addEventListener('input', (e) => {
            searchCommands(e.target.value);
        });
        
        // 点击外部关闭命令面板
        commandPalette.addEventListener('click', (e) => {
            if (e.target === commandPalette) {
                closeCommandPalette();
            }
        });
        
        // 按ESC键关闭命令面板
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !commandPalette.classList.contains('hidden')) {
                closeCommandPalette();
            }
            
            // 按Ctrl+P打开命令面板
            if (e.ctrlKey && e.key === 'p' && e.target.tagName !== 'INPUT') {
                e.preventDefault();
                openCommandPalette();
            }
        });
        
        // 顶部搜索框点击也打开命令面板
        searchInput.addEventListener('click', (e) => {
            e.stopPropagation();
            openCommandPalette();
        });
        
        // 初始化最近文件
        renderRecentFiles();
    </script>
</body>
</html>
